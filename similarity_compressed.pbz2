import pickle
import bz2
import numpy as np

# Compress and save under 25MB
similarity = similarity.astype(np.float32)  # reduce file size
with bz2.BZ2File("similarity_compressed.pbz2", "wb") as f:
    pickle.dump(similarity, f, protocol=pickle.HIGHEST_PROTOCOL)

print("âœ… similarity_compressed.pbz2 saved successfully!")

